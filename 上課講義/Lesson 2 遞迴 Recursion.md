# Lesson 2 éè¿´ Recursion

Created: June 23, 2023 1:11 PM

<aside>
ğŸ’¡ ç·¨ã€è‘—:å¼µé›²ç¿”ï¼Œæœªç¶“è¨±å¯ç¦æ­¢å…¬é–‹æ•£å¸ƒã€ç‡Ÿåˆ©ä½¿ç”¨

</aside>

# â“Section 1. ä»€éº¼æ˜¯éè¿´

éè¿´å‡½å¼æ˜¯æŒ‡**æœƒåœ¨å‡½å¼ä¸­å‘¼å«è‡ªå·±çš„å‡½å¼**ï¼Œä¾‹å¦‚ä»¥ä¸‹ç¯„ä¾‹:

```python
def a(i):
	if i < 1:
		return 1
	return a(i-1)
```

å¾ä¸Šé¢çš„ç¨‹å¼ç¢¼ï¼Œæˆ‘å€‘å¯ä»¥çœ‹åˆ°åœ¨a(i)ä¸­ï¼Œå¦‚æœiå¤§æ–¼1æ™‚ï¼Œç¨‹å¼æœƒå†å‘¼å«a(i-1)ï¼Œé€™å€‹å‡½å¼æˆ‘å€‘å°±å¯ä»¥ç¨±ç‚ºéè¿´å‡½å¼

---

# ğŸ¨Section 2. éè¿´çµæ§‹èˆ‡è¨­è¨ˆ

ç•¶æˆ‘å€‘è¦è¨­è¨ˆéè¿´å‡½å¼æ™‚ï¼Œæˆ‘å€‘æœƒéœ€è¦å…ˆäº†è§£éè¿´å‡½å¼çš„çµæ§‹

```python
def recursion_func(p):
	if çµ‚æ­¢æ¢ä»¶
		return åˆå§‹å€¼
	return recursion_func(p-1)
```

åœ¨ä½¿ç”¨éè¿´æ™‚ï¼Œæˆ‘å€‘å¿…é ˆè¨­ç½®ä¸€å€‹**æ”¶æ–‚**çš„æ¢ä»¶ï¼Œä½¿ç¨‹å¼åœ¨åŸ·è¡Œæ™‚ä¸æœƒè®Šæˆç„¡é™è¿´åœˆï¼Œæœ€çµ‚è¶…éï¼Œpythonå°æ–¼éè¿´çš„é™åˆ¶å°è‡´ç¨‹å¼å´©æ½°ã€‚

è£œå……:pythonå°æ–¼éè¿´é™åˆ¶é€šå¸¸ç‚º10^3

## å¸¸è¦‹çš„éè¿´ç¯„ä¾‹ï¼š

### Ex.1 é€£çºŒåŠ æ³•ï¼šè¨ˆç®—1+2+3+â€¦+içš„ç¸½å’Œ

$$
f(n) = 
\begin{cases} 
f(n-1) + n & \text{for } n \geq 2, \\
1 & \text{for } n = 1.
\end{cases}
$$

```python
def sum(i):
 if i == 1: return 1
 return i + sum(i-1)
```

### Ex.2 éšä¹˜ï¼šè¨ˆç®—n!çš„å€¼

$$
f(n) = 
\begin{cases} 
f(n-1) \cdot n & \text{for } n \geq 1, \\
1 & \text{for } n = 0.
\end{cases}
$$

```python
def f(n):
	if n == 0: return 1
	return n * f(n-1)
```

### Ex.3 æŒ‡æ•¸(exp)ï¼šè¨ˆç®—xçš„næ¬¡æ–¹

[sol1] O(n)

$$
f(x, n) = 
\begin{cases} 
f(x, n-1) \cdot x & \text{for } n \geq 1, \\
1 & \text{for } n = 0.
\end{cases}
$$

```python
def f(x, n):
	if n == 0: return 1
	return f(x, n-1) 
```

[sol2] O(logn)

$$
f(x, n) = 
\begin{cases} 
1 \cdot (x^2)^{\frac{n}{2}} & \text{for } n \text{ even}, \\
x \cdot (x^2)^{\frac{n}{2}} & \text{for } n \text{ odd}.
\end{cases}
$$

```python
def f(x, n):
	if n % 2 == 0:
		f = 1
	else:
		f = x
	if n < 2: return f
	return f*f(x*x, n/2) 
```

### Ex.4 è²»æ°æ•¸åˆ— Fibonacci Numbers

$$
F(n) = 
\begin{cases} 
0 & \text{for } n = 0, \\
1 & \text{for } n = 1, \\
F(n-1) + F(n-2) & \text{for } n \geq 2.
\end{cases}
$$

```python
def f(n):
	if n == 0: return 0
	if n == 1: return 1
	return f(n-1)+f(n-2)
```

### Ex.5 é˜¿å…‹æ›¼å‡½æ•¸

$$
A(m, n) =
\begin{cases}
n + 1 & \text{if } m = 0, \\
A(m-1, 1) & \text{if } m > 0 \text{ and } n = 0, \\
A(m-1, A(m, n-1)) & \text{if } m > 0 \text{ and } n > 0.
\end{cases}
$$

```python
def A(m,n):
	if m == 0: return n + 1
	else:
		if n == 0: return A(m-1, 1)
		return A(m-1, A(m, n-1))
```

### Ex.6 äºŒé …å¼ä¿‚æ•¸

$$
\binom{n}{m} = \frac{n!}{k!(n-k)!}
$$

é™éšå…¬å¼

$$
\binom{n}{m} = \binom{n-1}{m-1} + \binom{n-1}{m}
$$

```python
def Bin(n, m):
	if n == m or m == 1: return 1
	return Bin(n-1, m) + Bin(n, m-1) #äºŒé …å¼ä¿‚æ•¸é™éšå…¬å¼
```

# ğŸ¥ŠSection 3. éè¿´ V.S. è¿´åœˆ

## ä¾‹é¡Œ:è¼¸å‡º0ç´¯åŠ åˆ°9

## è¿´åœˆ(Loop):

### for loop:

```python
ans = 0
for i in range(10):
	ans += i
print(i)
```

### while loop:

```python
i = 0
while i <= 9:
	print(i)
	i += 1
print(i
```

## éè¿´(Recursion)

```python
def func(i):
	if i > 0:
		return (i+func(i-1))
	return 0
```

# ğŸ”¨Section 4. éè¿´å¯¦ä½œ

å¦‚å‰é¢æ‰€è¿°ï¼Œç•¶æˆ‘å€‘è¦è¨­è¨ˆä¸€å€‹éè¿´å‡½å¼ï¼Œæˆ‘å€‘å¿…é ˆè¦å®šç¾©ä¸€å€‹**æ”¶æ–‚**çš„åŸ·è¡Œç¯„åœï¼Œæ¥è‘—ä¾æ“šç¨‹å¼å…§å®¹é€²è¡Œå‘¼å«

## ZeroJudge e357 **éè¿´å‡½æ•¸ç·´ç¿’**

### é¡Œç›®:

å®šç¾©ä¸€å€‹å‡½æ•¸F(x)ï¼Œ

è‹¥x = 1, å‰‡ F(x) = 1
è‹¥x ç‚ºå¶æ•¸ï¼Œå‰‡ F(x) = F(x/2)

å…¶é¤˜ç‹€æ³ï¼ŒF(x) = F(x - 1) + F(x + 1)

**è¼¸å…¥èªªæ˜**

è¼¸å…¥åªæœ‰ä¸€è¡Œï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹æ­£æ•´æ•¸x (1 <= x <= 2000000)ã€‚

**ç¯„ä¾‹è¼¸å…¥#1**

`6`

**è¼¸å‡ºèªªæ˜**

è¼¸å‡ºåªæœ‰ä¸€è¡Œï¼Œå…¶ä¸­åŒ…å«ä¸€å€‹æ­£æ•´æ•¸F(x)ã€‚

**ç¯„ä¾‹è¼¸å‡º#1**

`2`

### åƒè€ƒè§£ç­”:

```python
def F(x):
    if x == 1:
        return 1
    elif x % 2 == 0:
        return F(int(x/2))
    return F(x-1) + F(x+1)

print(F(int(input())))
```

**åŸ·è¡Œæ™‚é–“: 44ms**

**æª”æ¡ˆå¤§å°: 3.3MB**

# ğŸ‘¨â€ğŸ«Section 5. è§£é¡Œç¯„ä¾‹

## ZeroJudge d487 **Order's computation process**

### é¡Œç›®:

1751å¹´ï¼Œæ­æ‹‰ä»¥å¤§å¯«å­—æ¯ M è¡¨ç¤º m éšä¹˜

M=1ï¼2ï¼3ï¼...ï¼m

1799 å¹´ï¼Œé­¯éå°¼åœ¨ä»–å‡ºç‰ˆçš„æ–¹ç¨‹è«–è‘— è¿°ä¸­ï¼Œå‰‡ä»¥å°å¯«å­—æ¯ Ï€ è¡¨ç¤º m éšä¹˜ã€‚

è€Œåœ¨ 1813å¹´ï¼Œé«˜æ–¯å‰‡ä»¥ Î (n) ä¾†è¡¨ç¤º n éšä¹˜ã€‚

ç”¨ä¾†è¡¨ç¤º n éšä¹˜çš„æ–¹æ³•èµ·æºæ–¼è‹±åœ‹ï¼Œä½†ä»æœªèƒ½ç¢ºå®šå§‹å‰µäººæ˜¯èª°ã€‚

ç›´è‡³1827å¹´ï¼Œç”±æ–¼é›…èŠç‰¹çš„å»ºè­°è€Œå¾—åˆ°æµè¡Œï¼Œç¾åœ¨æœ‰æ™‚ä¹Ÿæœƒä»¥é€™å€‹ç¬¦è™Ÿä½œç‚ºéšä¹˜ç¬¦è™Ÿã€‚

è€Œæœ€å…ˆæå‡ºéšä¹˜ç¬¦è™Ÿ n! çš„äººæ˜¯å…‹æ‹‰å§†ï¼ˆ1808ï¼‰ï¼Œå¾Œä¾†ç¶“éæ­å§†ç­‰äººçš„æå€¡è€Œæµè¡Œï¼Œç›´è‡³ç¾åœ¨ä»ç„¶é€šç”¨ã€‚

**è¼¸å…¥èªªæ˜**

æ¯è¡Œä¸€å€‹æ•´æ•¸ n

0 <= n <= 10

**è¼¸å‡ºèªªæ˜**

è¼¸å‡º n! = n * (n-1) * (n-2) * ... * 2 * 1 = ( n! çš„ç­”æ¡ˆ )

è«‹æ³¨æ„ç©ºæ ¼çš„è¼¸å‡º

è™•ç†å®Œæ¯çµ„æ¸¬è³‡è«‹æ›è¡Œ

**ç¯„ä¾‹è¼¸å…¥#1**

`0`

`5`

**ç¯„ä¾‹è¼¸å‡º#1**

`0! = 1 = 1`

`5! = 5 * 4 * 3 * 2 * 1 = 120`

### åƒè€ƒè§£ç­”:

```python
import sys
def F(x):
    if x > 1:
        return x*F(x-1)
    else:
        return 1

for i in sys.stdin:
    print(int(i), '! = ',sep='', end='')
    if int(i) == 0: print(1, end=' ')
    else: 
        [print(j, end=' * ') for j in range(int(i), 1, -1)]
        print(1, end=' ')
    print("=", F(int(i)))
```

**åŸ·è¡Œæ™‚é–“: 18ms**

**æª”æ¡ˆå¤§å°: 3.3MB**